webpackJsonp([9],{"84/g":function(t,e){},JBPS:function(t,e){},Pvj0:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("Dd8w"),s=i.n(n),a=i("NYxO"),o={name:"PushSidebar",props:{value:String},data:function(){return{list:["Все","Комментарии","Друзья"]}},methods:{changePushSidebar:function(t){this.$emit("change-push-sidebar",t)}}},r={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"aside-filter"},[i("h2",{staticClass:"aside-filter__title"},[t._v("Оповещения")]),i("ul",{staticClass:"aside-filter__list"},t._l(t.list,function(e){return i("li",{key:e,staticClass:"aside-filter__item",class:{active:e===t.value},on:{click:function(i){return t.changePushSidebar(e)}}},[t._v(t._s(e))])}),0)])},staticRenderFns:[]},c=i("VU/8")(o,r,!1,null,null,null).exports,f=i("6nA3"),u={name:"PushBlock",props:{info:Object},computed:s()({},Object(a.c)("users/info",["getUsersList"])),methods:{getRouteByNotification:f.a,fetchUserInfo:function(t){return this.getUsersList.filter(function(e){return e.id===t})[0]||{}}}},l={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"push-block"},[i("div",{staticClass:"push__img"},[i("img",{attrs:{src:t.fetchUserInfo(t.info.id).photo,alt:t.fetchUserInfo(t.info.id).first_name}})]),i("p",{staticClass:"push__content"},[i("router-link",{staticClass:"push__content-name",attrs:{to:t.getRouteByNotification(t.info)}},[t._v(t._s(t.fetchUserInfo(t.info.id).first_name+" "+t.fetchUserInfo(t.info.id).last_name)+"\n\n"+t._s(t.info.notificationsTextType))]),i("span",{staticClass:"push__content-preview"},[t._v("«"+t._s(t.info.info)+"»")])],1),i("span",{staticClass:"push__time"},[t._v(t._s(t._f("moment")(t.info.sent_time,"from")))])])},staticRenderFns:[]};var _={name:"PagePush",components:{PushSidebar:c,PushBlock:i("VU/8")(u,l,!1,function(t){i("JBPS")},null,null).exports},data:function(){return{activeFilter:"Все"}},computed:s()({},Object(a.c)("profile/notifications",["getNotifications","getNotificationsLength"]),{filterNotifications:function(){switch(this.activeFilter){case"Все":return this.getNotifications;case"Комментарии":return this.getNotifications.filter(function(t){return"POST_COMMENT"===t.event_type||"COMMENT_COMMENT"===t.event_type});case"Друзья":return this.getNotifications.filter(function(t){return"FRIEND_REQUEST"===t.event_type})}}}),methods:s()({},Object(a.b)("profile/notifications",["apiNotifications","readNotifications"]),{onChangeFilter:function(t){this.activeFilter=t}}),beforeRouteEnter:function(t,e,i){i(function(t){t.apiNotifications()})},beforeDestroy:function(){this.readNotifications()}},h={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"page-push inner-page"},[t.getNotificationsLength>0?i("div",{staticClass:"inner-page__main"},t._l(t.filterNotifications,function(t){return i("push-block",{key:t.id,attrs:{info:t}})}),1):t._e(),i("div",{staticClass:"inner-page__aside"},[i("push-sidebar",{on:{"change-push-sidebar":t.onChangeFilter},model:{value:t.activeFilter,callback:function(e){t.activeFilter=e},expression:"activeFilter"}})],1)])},staticRenderFns:[]};var d=i("VU/8")(_,h,!1,function(t){i("84/g")},null,null);e.default=d.exports}});
//# sourceMappingURL=9.90b0333f7953445e8c25.js.map